package pregnantboy.tutorial.tasks;

import java.util.Queue;

import net.minecraft.block.state.IBlockState;
import net.minecraft.entity.monster.EntityMob;
import net.minecraft.util.BlockPos;
import net.minecraft.util.Vec3;
import net.minecraft.world.World;

public abstract class BuildGeneric {
	
	private double x, y, z;
	private World world;
	private Queue<BlockPos> blockPosQueue;
	private Queue<IBlockState> blocksQueue;
	private EntityMob mob;
	private boolean hasBuildingInit, isBuildingDone;
	private Vec3 buildingSpot;
	
	private void enqueue(BlockPos pos, IBlockState block) {
		blockPosQueue.add(pos);
		blocksQueue.add(block);
	}	
	
	private void buildBlock(int buildSpeed) {
		if (blockPosQueue.size() < 1 || blocksQueue.size() < 1) {
			finishingTouches();
			isBuildingDone = true;
		} else {
			for (int i = 0; i < buildSpeed; i ++) {
				world.setBlockState(blockPosQueue.remove(), blocksQueue.remove());
			}
		}
	}
	
	protected abstract void finishingTouches();
	
}
